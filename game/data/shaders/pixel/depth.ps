
varying vec2 v_texCoord;
varying vec3 v_normal;
uniform sampler2D mainTexture;
uniform float zNear;
uniform float zFar;

void main()
{	
	float depthSample = texture2D(mainTexture, v_texCoord).x;
    depthSample = 2.0 * depthSample - 1.0;
    
    float linearZ = 2.0 * zNear * zFar / (zFar + zNear - depthSample * (zFar - zNear));
    
    float k = linearZ / 100;

    gl_FragColor = vec4(k, k, k, 1);
}
